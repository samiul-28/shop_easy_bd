<h1><%= I18n.locale == :bn ? @product.name_bn : @product.name_en %></h1>

<% if @product.image.attached? %>
  <%= image_tag @product.image, class: "img-fluid mb-3" %>
<% end %>

<p><strong><%= t('products.show.price') %>:</strong> à§³ <%= @product.price %></p>
<p><strong><%= t('products.show.stock') %>:</strong> <%= @product.stock %></p>
<p><%= I18n.locale == :bn ? @product.description_bn : @product.description_en %></p>

<div class="mt-3">
  <%# Add to cart button (visible to all signed-in users) %>
  <%= button_to 'Add to cart',
      cart_items_path(product_id: @product.id),
      method: :post,
      class: "btn btn-success mb-2" %>

  <%# Edit & Delete buttons (only for admin or authorized users) %>
  <% if policy(@product).edit? %>
    <%= link_to t('products.show.edit'), edit_product_path(@product), class: "btn btn-warning mb-2" %>
  <% end %>

  <% if policy(@product).destroy? %>
    <%= button_to t('products.show.delete'), product_path(@product),
        method: :delete,
        data: { confirm: t('messages.confirm_delete') },
        class: "btn btn-danger mb-2" %>
  <% end %>

  <%= link_to t('products.show.back'), products_path, class: "btn btn-secondary mb-2" %>
</div>
